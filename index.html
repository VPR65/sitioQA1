<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Conversor Financiero Chile</title>
  <!-- Asumiendo que tus estilos están en una carpeta 'styles' relativa al index.html -->
  <link rel="stylesheet" href="styles/main.css" />
  <link rel="stylesheet" href="styles/conversor.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    /* Estilo para ocultar visualmente pero mantener accesible para lectores de pantalla */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>
      <!-- CORREGIR RUTA SI ES 'assest' EN LUGAR DE 'assets' -->
      <img src="assets/img/logo.png" alt="Logo Conversor" class="logo-header" />
      Conversor Financiero Chile
    </h1>
    <div class="fecha-hora-box">
      <span class="fecha-icon"><i class="fa-regular fa-calendar-days" aria-hidden="true"></i></span>
      <span id="fechaActual" class="fecha-text"></span>
      <span class="hora-icon"><i class="fa-regular fa-clock" aria-hidden="true"></i></span>
      <span id="horaActual" class="hora-text"></span>
    </div>
  </header>
  <main>
    <section class="conversor-section" aria-labelledby="titulo-calculadora">
      <h2 class="titulo-seccion" id="titulo-calculadora">Calculadora</h2>
      <div class="campos-conversor">
        <div class="campo">
          <label for="valor-clp"><i class="fa-solid fa-dollar-sign color-clp" aria-hidden="true"></i> CLP$</label>
          <input type="number" min="0" step="any" id="valor-clp" placeholder="Pesos chilenos" />
        </div>
        <div class="campo">
          <label for="valor-uf"><i class="fa-solid fa-coins color-uf" aria-hidden="true"></i> UF</label>
          <input type="number" min="0" step="any" id="valor-uf" placeholder="UF" />
        </div>
        <div class="campo">
          <label for="valor-usd"><i class="fa-solid fa-dollar-sign color-usd" aria-hidden="true"></i> USD ($)</label>
          <input type="number" min="0" step="any" id="valor-usd" placeholder="Dólares" />
        </div>
        <div class="campo">
          <label for="valor-eur"><i class="fa-solid fa-euro-sign color-eur" aria-hidden="true"></i> EURO (€)</label>
          <input type="number" min="0" step="any" id="valor-eur" placeholder="Euros" />
        </div>
        <div class="campo">
          <label for="valor-utm"><i class="fa-solid fa-receipt color-utm" aria-hidden="true"></i> UTM</label>
          <input type="number" min="0" step="any" id="valor-utm" placeholder="UTM" />
        </div>
      </div>
      <div class="msg-error" id="msg-error" role="alert"></div>
    </section>

    <section class="datos-financieros-section" aria-labelledby="titulo-datos-financieros">
      <h2 class="titulo-seccion" id="titulo-datos-financieros">Datos Financieros</h2>
      <ul class="lista-datos">
        <li>
          <span class="dato-icon"><i class="fa-solid fa-dollar-sign color-clp" aria-hidden="true"></i></span>
          <span class="dato-label">CLP$:</span>
          <span class="dato-valor" id="cotiz-clp">-</span>
          <div class="actualizacion-item" id="act-clp"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-coins color-uf" aria-hidden="true"></i></span>
          <span class="dato-label">UF:</span>
          <span class="dato-valor" id="cotiz-uf">-</span>
          <div class="actualizacion-item" id="act-uf"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-dollar-sign color-usd" aria-hidden="true"></i></span>
          <span class="dato-label">Dólar:</span>
          <span class="dato-valor" id="cotiz-usd">-</span>
          <div class="actualizacion-item" id="act-usd"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-euro-sign color-eur" aria-hidden="true"></i></span>
          <span class="dato-label">Euro:</span>
          <span class="dato-valor" id="cotiz-eur">-</span>
          <div class="actualizacion-item" id="act-eur"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-receipt color-utm" aria-hidden="true"></i></span>
          <span class="dato-label">UTM:</span>
          <span class="dato-valor" id="cotiz-utm">-</span>
          <div class="actualizacion-item" id="act-utm"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-gem color-oro" aria-hidden="true"></i></span>
          <span class="dato-label">Oro (gr):</span>
          <span class="dato-valor" id="cotiz-oro">-</span>
          <div class="actualizacion-item" id="act-oro"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-industry color-cobre" aria-hidden="true"></i></span>
          <span class="dato-label">Cobre (lb):</span>
          <span class="dato-valor" id="cotiz-cobre">-</span>
          <div class="actualizacion-item" id="act-cobre"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-brands fa-btc color-btc" aria-hidden="true"></i></span>
          <span class="dato-label">Bitcoin:</span>
          <span class="dato-valor" id="cotiz-btc">-</span>
          <div class="actualizacion-item" id="act-btc"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-percent color-ipc" aria-hidden="true"></i></span>
          <span class="dato-label">IPC:</span>
          <span class="dato-valor" id="cotiz-ipc">-</span>
          <div class="actualizacion-item" id="act-ipc"></div>
        </li>
        <li>
          <span class="dato-icon"><i class="fa-solid fa-chart-line color-imacec" aria-hidden="true"></i></span>
          <span class="dato-label">IMACEC:</span>
          <span class="dato-valor" id="cotiz-imacec">-</span>
          <div class="actualizacion-item" id="act-imacec"></div>
        </li>
      </ul>
    </section>
  </main>
  <footer>
    <small>
      &copy; <span id="currentYear"></span> Conversor Financiero Chile.<br/>
      Fuentes principales de datos:
      <a href="https://mindicador.cl" target="_blank" rel="noopener noreferrer">mindicador.cl<span class="sr-only"> (abre en nueva pestaña)</span></a>,
      <a href="https://www.coingecko.com" target="_blank" rel="noopener noreferrer">coingecko.com<span class="sr-only"> (abre en nueva pestaña)</span></a>,
      <a href="https://exchangerate.host" target="_blank" rel="noopener noreferrer">exchangerate.host<span class="sr-only"> (abre en nueva pestaña)</span></a>.
      <!-- Otras fuentes mencionadas en README pueden ser listadas si son relevantes para el usuario final o si se requiere atribución -->
    </small>
  </footer>
  <!-- Asegúrate que la ruta a conversor.js es correcta -->
  <script src="js/conversor.js"></script>
  <script>
    function actualizaFechaHoraHeader() {
      const ahora = new Date();
      const opFecha = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const fechaElem = document.getElementById("fechaActual");
      const horaElem = document.getElementById("horaActual");
      const anioElem = document.getElementById("currentYear");

      if (fechaElem) {
        fechaElem.textContent = ahora.toLocaleDateString("es-CL", opFecha);
      }
      if (horaElem) {
        horaElem.textContent = ahora.toLocaleTimeString("es-CL", { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
      }
      if (anioElem) {
        anioElem.textContent = ahora.getFullYear();
      }
    }
    setInterval(actualizaFechaHoraHeader, 1000);
    actualizaFechaHoraHeader(); // Llama una vez al cargar
  </script>
</body>
</html>